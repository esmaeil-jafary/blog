<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>关于css像素精度问题 | Sin の website</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="

  最近在做项目的时候，需要做一个状态组件，类似下图效果:

  状态组件

  通常情况下，我们都会通过css伪类实现上面的进度条的效果，于是乎三下五除二就把组件搞出来了，看样子也没什么问题，然后调用接口进行列表渲染时，发现渲染出来的进度条粗细显示有差异：

  ![多个进度条粗细显示差异](.. ...">
    
    <link rel="preload" href="/blog/assets/css/0.styles.ae7fb01b.css" as="style"><link rel="preload" href="/blog/assets/js/app.e056b300.js" as="script"><link rel="preload" href="/blog/assets/js/7.45ed180b.js" as="script"><link rel="preload" href="/blog/assets/js/3.3d9613cd.js" as="script"><link rel="preload" href="/blog/assets/js/6.de92fae5.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.47cfb58c.js"><link rel="prefetch" href="/blog/assets/js/11.bf82e74d.js"><link rel="prefetch" href="/blog/assets/js/12.a0305891.js"><link rel="prefetch" href="/blog/assets/js/13.14c3c894.js"><link rel="prefetch" href="/blog/assets/js/14.d81acf81.js"><link rel="prefetch" href="/blog/assets/js/4.61e613b8.js"><link rel="prefetch" href="/blog/assets/js/5.9dd7beea.js"><link rel="prefetch" href="/blog/assets/js/8.9af3cecd.js"><link rel="prefetch" href="/blog/assets/js/9.8398fbd7.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.1946e7b8.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.ae7fb01b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blog/" class="nav-link home-link">Sin の website </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link">编程</a></li><li class="nav-item"><a href="/blog/tag/" class="nav-link">标签</a></li><li class="nav-item"><a href="/blog/writings/" class="nav-link">随笔</a></li><li class="nav-item"><a href="/blog/about/" class="nav-link">关于</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blog/" class="nav-link mobile-home-link">Sin の website </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link">编程</a></li><li class="mobile-nav-item"><a href="/blog/tag/" class="nav-link">标签</a></li><li class="mobile-nav-item"><a href="/blog/writings/" class="nav-link">随笔</a></li><li class="mobile-nav-item"><a href="/blog/about/" class="nav-link">关于</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        关于css像素精度问题
      </h1> <div class="post-meta"><div itemprop="publisher author" itemtype="http://schema.org/Person" itemscope="itemscope" class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> <span itemprop="name">黄更新</span> <span itemprop="address">   in Shenzhen</span></div> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2021-05-11T00:00:00.000Z">
      Tue May 11 2021
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/blog/tag/css" data-v-42ccfcd5><span data-v-42ccfcd5>css</span></a></li><li class="post-tag" data-v-42ccfcd5><a href="/blog/tag/px" data-v-42ccfcd5><span data-v-42ccfcd5>px</span></a></li><li class="post-tag" data-v-42ccfcd5><a href="/blog/tag/像素" data-v-42ccfcd5><span data-v-42ccfcd5>像素</span></a></li><li class="post-tag" data-v-42ccfcd5><a href="/blog/tag/subpixel rendering" data-v-42ccfcd5><span data-v-42ccfcd5>subpixel rendering</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h3 id="背景"><a href="#背景" class="header-anchor">#</a> 背景</h3> <p>最近在做项目的时候，需要做一个状态组件，类似下图效果:</p> <p><img src="data:image/png;base64,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" alt="状态组件"></p> <p>通常情况下，我们都会通过css伪类实现上面的进度条的效果，于是乎三下五除二就把组件搞出来了，看样子也没什么问题，然后调用接口进行列表渲染时，发现渲染出来的进度条粗细显示有差异：</p> <p><img src="/blog/assets/img/css-px-issue2.59a8e113.png" alt="多个进度条粗细显示差异"></p> <p>然后问题来了，为什么同样的样式（F12定位查看的computed样式也是一样），最终渲染的效果确是不同的？</p> <h3 id="原因"><a href="#原因" class="header-anchor">#</a> 原因</h3> <p>按照以往经验，首先从自身代码上猜测可能引起问题的原因：</p> <ol><li>css伪类使用姿势不正确，或页面其他样式影响导致；</li> <li>rem布局导致实际计算和渲染的px是带小数的，影响渲染效果，具体原理未知。</li></ol> <p>经排查，没有发现css使用姿势的问题，那就很可能是带小数px实际渲染效果会不一致，具体原因还需要进一步了解。直接问部门leader，leader也猜测是小数px的问题，因为尝试直接用整数px是没有问题的。后面本地写了个html文件验证小数px渲染的确是有问题的（<em>每条线的高度都为2.35px</em>）：</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUQAAADWCAYAAACpM/s6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAL/SURBVHhe7d0hbgBBDATB/P/TiS9quMDYqpLG6JY2vZ9fAP4JIkAEESCCCBBBBIggAkQQASKIABFEgAgiQAQRIIIIEEEEiCACRBABIogAEUSA7IL4M5+ZmR3f3IXHQzOza5sLwEcQASKIABFEgAgiQAQRIIIIEEEEiCACRBABIogAEUSACCJABBEggggQQQSIIAJEEAEiiAARRIDsgvj4GYuZ2bXNXXg8NDO7trkLj4dmZtc2F4CPIAJEEAEiiAARRIAIIkAEESCCCBBBBIggAkQQASKIABFEgAgiQAQRIIIIEEEEiCACRBABIogA2QXx8TMWM7Nrm7vweGhmdm1zAfgIIkAEESCCCBBBBIggAkQQASKIABFEgAgiQAQRIIIIEEEEiCACRBABIogAEUSACCJABBEgggiQXRAfP2MxM7u2uQuPh2Zm1zYXgI8gAkQQASKIABFEgAgiQAQRIIIIEEEEiCACRBABIogAEUSACCJABBEggggQQQSIIAJEEAEiiADZBfHxMxYzs2ubu/B4aGZ2bXMXHg/NzK5tLgAfQQSIIAJEEAEiiAARRIAIIkAEESCCCBBBBIggAkQQASKIABFEgAgiQAQRIIIIEEEEiCACRBABsgvi42csZmbXNnfh8dDM7NrmAvARRIAIIkAEESCCCBBBBIggAkQQASKIABFEgAgiQAQRIIIIEEEEiCACRBABIogAEUSACCJABBEguyA+fsZiZnZtcxceD83Mrm0uAB9BBIggAkQQASKIABFEgAgiQAQRIIIIEEEEiCACRBABIogAEUSACCJABBEggggQQQSIIAJEEAGyC+LjZyxmZtc2d+Hx0Mzs2uYuPB6amV3bXAA+gggQQQSIIAJEEAEiiAARRIAIIkAEESCCCBBBBIggAkQQASKIABFEgAgiQAQRIIIIEEEEiCACZBfEx89YzMyube7C46GZ2bXNBeAjiAARRIAIIkAEESCCCBBBBIggAkQQASKIABFEgAgiQAQRIIIIEEEEiCAC/Pv9/QNhXeZ8lzWT0QAAAABJRU5ErkJggg==" alt="小数像素粗细显示差异"></p> <p>后续还是部门leader直接搜索到了相关答案，<strong>本质就是浏览器针对小数px的渲染机制就是如此的（四舍五入的原则）</strong>，简单地说就是：</p> <ol><li>假如页面某元素的高度1.5px，则向上取整为2px(1.5px+0.5px)进行渲染；</li> <li>临近的后一个元素则需补缺(0.5px)，即渲染高度为1px(1.5px-0.5px)。</li></ol> <p>具体可以参考<a href="https://www.zhihu.com/question/264372456" target="_blank" rel="noopener noreferrer">知乎<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://www.wikiwand.com/en/Subpixel_rendering" target="_blank" rel="noopener noreferrer">维基百科<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的解释。</p> <h3 id="解决方案"><a href="#解决方案" class="header-anchor">#</a> 解决方案</h3> <p>知道了原因，解决方式就简单些了，针对某些特定设计，保留整数px，可直接将css像素单位改为Px(PX/pX)，不做rem转换：</p> <ol><li>如果是使用px2rem相关插件，可以配置大写PX不做rem转换即可；</li> <li>如果是vscode prettier插件自动格式化了PX为小写，则可以直接添加注释忽略掉大小写的转换，如下图：</li></ol> <p><img src="data:image/png;base64,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" alt="忽略prettier插件的处理"></p> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <p>遇到问题还是要多留心，不管问题大小，总是学习的机会，加油！</p> <h3 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h3> <ol><li><em><a href="https://isux.tencent.com/articles/105.html" target="_blank" rel="noopener noreferrer">浏览器亚像素渲染与小数位的取舍<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></em></li> <li><em><a href="https://www.zhihu.com/question/264372456" target="_blank" rel="noopener noreferrer">浏览器将rem转成px时有精度误差怎么办？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></em></li> <li><em><a href="https://www.wikiwand.com/en/Subpixel_rendering" target="_blank" rel="noopener noreferrer">Subpixel rendering<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></em></li></ol></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h3 active"><a href="#背景" title="背景">背景</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#原因" title="原因">原因</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#解决方案" title="解决方案">解决方案</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#总结" title="总结">总结</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#参考资料" title="参考资料">参考资料</a></div></div></div></div> <footer class="footer" data-v-3d9deeb8><div class="footer-left-wrap" data-v-3d9deeb8><ul class="contact" data-v-3d9deeb8><li class="contact-item" data-v-3d9deeb8><a href="https://github.com/x-fox" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-3d9deeb8><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-3d9deeb8></path></svg>
          
        </a></li><li class="contact-item" data-v-3d9deeb8><a href="mailto:laoxindeyouxiang@163.com" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail" data-v-3d9deeb8><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-3d9deeb8></path><polyline points="22,6 12,13 2,6" data-v-3d9deeb8></polyline></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-3d9deeb8><ul class="copyright" data-v-3d9deeb8><li class="copyright-item" data-v-3d9deeb8><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8>Privacy Policy</a></li><li class="copyright-item" data-v-3d9deeb8>MIT Licensed | Copyright © 2018-present Vue.js</li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.e056b300.js" defer></script><script src="/blog/assets/js/7.45ed180b.js" defer></script><script src="/blog/assets/js/3.3d9613cd.js" defer></script><script src="/blog/assets/js/6.de92fae5.js" defer></script>
  </body>
</html>
